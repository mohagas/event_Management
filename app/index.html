<!DOCTYPE html>
<html ng-app="eventApp" ng-controller="eventController">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Event Management</title>
    <!-- Bootstrap -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style>
    input {
      margin-top: 15px;
      padding-right: 20px;

    }

    .form-control {
      margin-top: 15px;
      margin-left: 20px;
    }
    .btn-primary {
      margin-top: 15px;
      margin-left: 20px;
    }
    </style>

  </head>
  <body>
    <nav class="navbar navbar-default">
      <ul class="nav navbar-nav">
          <li><a href="index.html"> Home</a></li>
          <li><a href="#">Feature</a></li>
          <li><input type="text" ng-model="textFilter"/></li>
          <li><select class="form-control" ng-model="sortText">
                <option value="-cost">Cost: high to low</a></option>
                <option value="cost">Cost: low to high</option>
                <option value="date">latest</option>
              </select>
          </li>
          <li><div class="col-md-12"><a class="btn btn-primary" href="addEvent.html"> Add Event </a></div></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
          <li> <a href="#"> login </a></li>
      </ul>
    </nav>

      <h1 class= "text-center"> List of Events </h1>

      <!--Define a function in controller called sort. ng-click call the function in controller.
      Inside the function set the variable for sort to the name of the field. -->

    <div class="row">
      <div class="col-md-3" ng-repeat="event in events | filter : textFilter | orderBy : sortText">
            <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title text-center">{{event.name}}</h3>
                  <div class="panel-body">
                    <div class="text-center">
                      <img src={{event.image}}  height="150" width="230"/>
                      <p> {{event.teacher}} </p>
                      <p> {{event.address.address_1}} </p>
                      <p>{{event.address.city}} {{event.address.state}} {{event.address.zip}}</p> </br>
                      <p> Date: {{event.date | date : 'medium' }} </p>
                      <p> {{event.cost | currency}}</p>

                      <div class="row">
                        <div class="col-md-2">
                          <a href="#" ng-click="upVote(event)">
                          <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
                          </a>
                        </div>
                          <div class="col-md-2">
                              <p> {{event.likes}} </p>
                          </div>
                        </div>
                      <div class="row">
                        <div class="col-md-2">
                          <a href="#" ng-click="downVote(event)">
                          <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
                        </a>
                        </div>
                      <div class="col-md-2">
                          <p> {{event.dislikes}} </p>
                      </div>
                    </div>
                    </div>
                  </div>
                  <div class="text-center">
                      <button type="button" class="btn btn-success">Buy Ticket</button>
                  </div>
                </div>
              </div>
            </div>
          </div>




    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-resource.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services/eventData.js"> </script>
    <script src="js/controllers/EventListController.js"></script>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"> </script>
  </body>
</html>
